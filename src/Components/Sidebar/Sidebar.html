<html>
    <head>
        <link
        href="/src/bootstrap-5.1.3-dist/css/bootstrap.min.css"
        rel="stylesheet"
      />
      <link rel="stylesheet" href="./Sidebar.css">

    </head>


    <div class="Sidebar">
        <!-- <div class="Sidebar-foldout-hamburger"></div> -->
        <div class="Sidebar-Logo">
            <img src="https://www.mcicon.com/wp-content/uploads/2020/12/Animal_Turtle_1-copy-4-600x600.jpg" alt="description of image"/>
        </div>

        <div class="row Sidebar-Items">
            <h5 class="filter-text">Animals     </h5>

            <div class="dd-flex align-items-start bd-highlight mb-2">
                <img src="/src/assets/images/dog/dog.jpg" class="float-start p-2 bd-highlight" alt="dog" onClick="selectAnimal('Dog')">
                <img src="/src/assets/images/cat/cat.jpg" class=" float-start p-2 bd-highlight" alt="cat" onClick="selectAnimal('Cat')">
                <img src="/src/assets/images/bird/bird.jpg" class=" float-start p-2 bd-highlight" alt="bird" onClick="selectAnimal('Bird')">
                <img src="/src/assets/images/rodent/rodent.jpg" class=" float-start p-2 bd-highlight" alt="rodent" onClick="selectAnimal('Rodent')">
            </div>
        </div>

        <div class="row Sidebar-Items hidden">
            <h5 class="filter-text">Accessories     </h5>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="beds">
                <label class="form-check-label" for="beds">
                  Beds
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="food">
                <label class="form-check-label" for="food">
                  Collars
                </label>
              </div>
        </div>

        <div class="row Sidebar-Items hidden" >
            <h5 class="filter-text">Food     </h5>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="vufTastic">
                <label class="form-check-label" for="vufTastic">
                  Dry food
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="ruff">
                <label class="form-check-label" for="ruff">
                  Treats
                </label>
              </div>
        </div>

        <div class="row Sidebar-Items hidden" >
            <h5 class="filter-text">Containers     </h5>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="red">
                <label class="form-check-label" for="red">
                  Transport box
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="green">
                <label class="form-check-label" for="green">
                  Cage
                </label>
              </div>
        </div>



        <div class="row Sidebar-Items"> 
            <h5 class="filter-text">Price     </h5>

              <div class="form-group">
                <label for="minPrice">Min Price:</label>
                <input type="number" class="form-control" id="minPrice">
              </div>
              <div class="form-group">
                <label for="maxPrice">Max Price:</label>
                <input type="number" class="form-control" id="maxPrice">
              </div>
        </div>

        
        <button onclick="showExtraFilters()">Show Extra Filters</button>
        <script>
        function showExtraFilters() {
            let filterArray = document.getElementsByClassName("hidden");
            console.log(Array.isArray(filterArray));
            for(i = 0; i<filterArray.length; i++) {
                filterArray[i].style.display = "block";
            }
        }
        
        </script>

      <button onclick="filterOnPrice()">Filter on Price</button>


      <script>
        function selectAnimal(animal) {
          let minPrice = document.getElementById("minPrice").value;
          let maxPrice = document.getElementById("maxPrice").value;
          let ref = `/src/Components/SearchResult/SearchResult.html?animal=${animal}`;
          if( minPrice !== null && minPrice !== undefined && minPrice >= 0 && minPrice !== "" &&
              maxPrice !== null && maxPrice !== undefined && maxPrice >= 0 && maxPrice !== ""
          ){
            ref += `&minPrice=${document.getElementById("minPrice").value}&maxPrice=${document.getElementById("maxPrice").value}`
          } else {
            ref = `/src/Components/SearchResult/SearchResult.html?animal=${animal}`;
          }
          location.href = ref;
        }
      </script>

      <script>
        function filterOnPrice() {
          let minPrice = document.getElementById("minPrice").value;
          let maxPrice = document.getElementById("maxPrice").value;

          let ref = `/src/Components/SearchResult/SearchResult.html?`;

          if ( minPrice !== null && minPrice !== undefined && minPrice >= 0 && minPrice !== "" &&
              maxPrice !== null && maxPrice !== undefined && maxPrice >= 0 && maxPrice !== ""
          ){
            ref += `minPrice=${document.getElementById("minPrice").value}&maxPrice=${document.getElementById("maxPrice").value}`
          } 

          location.href = ref;
        }
      </script>

      <script type="module">

      </script>

</html>