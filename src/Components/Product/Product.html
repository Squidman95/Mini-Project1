<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="/src/bootstrap-5.1.3-dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="./Product.css" rel="stylesheet" />
    <title>Document</title>
  </head>
  <body>
    <div id="product-topbar"></div>


    <section>
      <div class="product-content-container">
        <div class="left">
          <div id="main-img">

          </div>
          <div class="smaller-images">
            <div class="smaller-image" id="smaller-image-1">

            </div>
            <div class="smaller-image" id="smaller-image-2">

            </div>
          </div>
          <article id="product-description-left">

          </article>
        </div>
        <div class="right">
          <article id="product-description-right">

          </article>
          <div class="button-container">
            <button class="btn btn-outline-primary">Add to basket</button>
            <button class="btn btn-primary">Buy right away</button>
          </div>
        </div>
      </div>
    </section>

    <!-- <article class="container main-container">
        <section class="row">
          <div class="col-sm">
            <div id="product-content">
            <figure>
                <img id="productPageImgMain" class="main-img img-fluid" src="/src/assets/images/bird/bird.jpg" alt="A bird">
            <figure>
            </div>
            <div class="small-img-container">
                <figure>
                    <img class="small-img img-fluid" id="productPageImgLeft" src="/src/assets/images/bird/bird_cage.jpg" alt="A bird cage">
                </figure>
                <figure>
                    <img class="small-img img-fluid" id="productPageImgRight" src="/src/assets/images/bird/bird_cage.jpg" alt="A bird cage">
                </figure>
            </div>
            <div>
                <h3>Product name</h3>
                <p>Sales pitch</p>
            </div>
          </div>
          <div class="col-sm">
            <div class="product-info-container">
                <h3>Product details</h3>
                <ul>
                  <p>Product Fact 1<p>
                  <p>Product Fact 2<p>
                  <p>Product Fact 3<p>
                  </ul>
            </div>
            <div class="button-container">
                <button class="btn btn-outline-primary">Add to basket</button>
            <button class="btn btn-primary">Buy right away</button>
            </div>
          </div>
        </section>
    </article> -->
    <script
      type="text/javascript"
      src="/src/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"
    ></script>

    <script src="//code.jquery.com/jquery.min.js"></script>
        <script>
            $.get("/src/Components/Topbar/Topbar.html", function (data) {
              $("#product-topbar").replaceWith(data);
            });
        </script>
        

    <script type="module">
      let param = parent.document.URL.substring(parent.document.URL.indexOf('?') + 1, parent.document.URL.length);
      let productId = param.includes("product") ? param.substring(param.indexOf("=")  + 1 ) : null;
      let mayAlsoLikeProductId1, mayAlsoLikeProductId2;

      if(productId <= 1){
        mayAlsoLikeProductId1 = productId + 1;
        mayAlsoLikeProductId2 = productId + 2;
      } else {
        mayAlsoLikeProductId1 = productId - 1;
        mayAlsoLikeProductId2 = productId - 2;
      }

      import {products} from '/src/Data/ProductData.js';


      let imgMain = document.createElement('img');
      imgMain.src = products[productId].image;

      let mayAlsoLikeProductImg1 = document.createElement('img');
      mayAlsoLikeProductImg1.src = products[mayAlsoLikeProductId1].image;

      let mayAlsoLikeProductImg2 = document.createElement('img');
      mayAlsoLikeProductImg2.src = products[mayAlsoLikeProductId2].image;

      let description = document.createElement('p');
      description.innerHTML = products[productId].description;

      let leftDescription = document.getElementById("product-description-left");
      leftDescription.innerHTML = "THIS IS A DESCRIPTION Y'ALL! PLEASE MAKE ME MORE DYNAMIC"


      let mainImageContainer = document.getElementById('main-img');
      let descriptionRightContainer = document.getElementById('product-description-right');

      let mayLikeImageContainer1 = document.getElementById('smaller-image-1');
      let mayLikeImageContainer2 = document.getElementById('smaller-image-2');

      mainImageContainer.appendChild(imgMain);
      descriptionRightContainer.appendChild(description);

      mayLikeImageContainer1.appendChild(mayAlsoLikeProductImg1);
      mayLikeImageContainer2.appendChild(mayAlsoLikeProductImg2);

  </script>
  </body>
</html>